var brandhub=function(e){function n(n){for(var a,o,i=n[0],u=n[1],l=n[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(n);while(h.length)h.shift()();return s.push.apply(s,l||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],a=!0,i=1;i<t.length;i++){var u=t[i];0!==r[u]&&(a=!1)}a&&(s.splice(n--,1),e=o(o.s=t[0]))}return e}var a={},r={"components/search/publish":0},s=[];function o(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)o.d(t,a,function(n){return e[n]}.bind(null,a));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/";var i=window["webpackJsonpbrandhub"]=window["webpackJsonpbrandhub"]||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var c=u;return s.push(["d761","chunk-common"]),t()}({"0bc8":function(e,n,t){},"3c4d":function(e,n,t){"use strict";t("4160"),t("a15b"),t("b64b"),t("ac1f"),t("1276"),t("159b");var a={isIPad:!1,isIPhone:!1,isIPod:!1,isIPhoneOrIPod:!1,isIPhoneOrIPodOrIPad:!1,isAndroid:!1,isIE9:!1,isIE10:!1,isIE11:!1,isIE:!1,isEdge:!1,isEdgeOrIE:!1,isSafari:!1,isTouch:!1};function r(){var e=" -webkit- -moz- -o- -ms- ".split(" "),n=function(e){return window.matchMedia(e).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)return!0;var t=["(",e.join("touch-enabled),("),"heartz",")"].join("");return n(t)}/iPad/i.test(navigator.userAgent)&&(a.isIPad=!0),/iPhone/i.test(navigator.userAgent)&&(a.isIPhone=!0),/iPod/i.test(navigator.userAgent)&&(a.isIPod=!0),(a.isIPhone||a.isIPod)&&(a.isIPhoneOrIPod=!0),(a.isIPhone||a.isIPod||a.isIPad)&&(a.isIPhoneOrIPodOrIPad=!0),/Android/i.test(navigator.userAgent)&&(a.isAndroid=!0),/MSIE 9/i.test(navigator.userAgent)&&(a.isIE9=!0),/MSIE 10/i.test(navigator.userAgent)&&(a.isIE10=!0),/rv:11.0/i.test(navigator.userAgent)&&(a.isIE11=!0),(a.isIE9||a.isIE10||a.isIE11)&&(a.isIE=!0),/Edge\/\d./i.test(navigator.userAgent)&&(a.isEdge=!0),/^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase())&&(a.isSafari=!0),/^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase())&&(a.isSafari=!0),(a.isEdge||a.isIE)&&(a.isEdgeOrIE=!0),r()&&(a.isTouch=!0),a.addGlobalClasses=function(){Object.keys(a).forEach((function(e){!0===a[e]&&document.documentElement.classList.add(e)}))},n["a"]=a},"784e":function(e,n,t){"use strict";var a=t("1157"),r=t.n(a),s=t("3c4d");s["a"].isIE&&r()("img[data-object-fit][data-src]").each((function(e,n){var t=r()(n);t.attr("src",t.attr("data-src"))}));t("4c35"),t("c975"),t("ac1f"),t("5319"),t("1276"),t("498a"),t("6f6e");function o(){var e=r()(window).innerWidth();r()("img.lazy-loaded[data-srcset]").each((function(){var n=r()(this),t=n.attr("src");if(t&&0!==t.indexOf("data:"))for(var a=n.attr("data-srcset").split(","),s=0;s<a.length;s++){var o=a[s].trim().split(" "),i=999999;if(2===o.length&&(i=(o[1]+"").replace("w","")),e<=i){n.attr("srcset",a[s].trim());break}}}))}r()(document).ready((function(){o()})),r()(window).on("resizeend scrollend lazyload lazycomplete",(function(){o()}));t("f741");r.a.extend(r.a.lazyLoadXT,{edgeY:900,blankImage:"data:image/gif;base64,R0lGODdhAQABAIABABcXF////ywAAAAAAQABAAACAkQBADs=",updateEvent:"load orientationchange resize scroll touchmove focus brandhubParallaxScrollPos"});r.a,r.a.lazyLoadXT},"8ba4":function(e,n,t){"use strict";var a=t("3c4d"),r={createCustomEvent:function(e,n){if(a["a"].isIE){var t=document.createEvent("CustomEvent"),r=!1;return n&&(r=n.bubbles||!1),t.initEvent(e,r,!0),t}return new CustomEvent(e,n||{})}};n["a"]=r},d761:function(e,n,t){"use strict";t.r(n);t("99af"),t("7db0"),t("c975"),t("ac1f"),t("5319"),t("841c"),t("498a"),t("e623"),t("e379"),t("5dc8"),t("37e1"),t("0bc8");var a=t("1157"),r=t.n(a),s=(t("784e"),t("8ba4")),o=20,i="brandhub",u="brandhub-menu-flyout-close",l="brandhub-main-nav-close-burger-menu",c="brandhub-main-nav__mobile-search-button--flyout-open",d="application/json",h=1e3,b=200,f=10,m={init:function(e){m.elem=e,m.form=m.elem.find(".brandhub-search__form"),m.apiEndpoint=m.form[0].dataset.searchApiEndpoint,m.apiUrl=m.apiEndpoint||"https://int.api.oneweb.mercedes-benz.com/fss-core/v1",m.autoSuggestions=m.form[0].dataset.autoSuggestions,m.input=m.elem.find(".brandhub-search__input"),m.suggestionsList=m.elem.find(".brandhub-search__suggestions-list"),m.isFlyoutSearch=m.elem.closest(".brandhub-main-nav__flyout-container").length>0,m.mainNavMobileSearchButton=r()(".brandhub-main-nav__mobile-search-button"),m.mainNavSearchIcon=r()(".brandhub-main-nav__link-icon.brandhub-icon-search"),m.mainNavSearchFlyoutToggle=m.mainNavSearchIcon.closest(".brandhub-main-nav__toggle-flyout"),m.mainNavSearchFlyoutContainer=m.mainNavSearchIcon.closest(".brandhub-main-nav__flyout-container"),m.resultsContainer=null,m.moreButton=null,m.moreButtonContainer=null,m.resultsList=null,m.clearResultsButton=null,m.language="de-DE"===r()("html").attr("lang")||"de"===r()("html").attr("lang")?"de":"en",m.market="COM",m.site=m.form.attr("data-search-site")||"all",m.searchProfileIds={"en-COM":{all:"69b80914-3006-4e3f-5aef-9f66e173522e","amg-f1":"46a8ae05-9ba3-4bec-af60-946b30ae366c"},"de-COM":{all:"200b2e7e-de22-4db5-6f04-58b0f562ec61","amg-f1":"d21aacfb-429b-4d5f-ab26-9d022e452d95"}},m.searchProfileId=m.searchProfileIds["".concat(m.language,"-").concat(m.market)][m.site],m.isScrolledToInput=!1,m.currentSearchTerm="",m.currentOffset=0,m.sessionToken=null,m.getSessionAjax=null,m.refreshResultsAjax=null,m.currentContext=m.getCurrentContext(),m.typingTimer=null,m.moreText=m.form.attr("data-msg-read-more"),m.moreResultsText=m.form.attr("data-msg-show-more-results"),m.resultsText=m.form.attr("data-msg-results"),m.noResultsText=m.form.attr("data-msg-no-results"),m.errorText=m.form.attr("data-msg-error"),m.bindMainNavSearchIconClickToSearchBoxInContent(),m.bindMobileSearchIconClick(),m.bindSearchFlyoutToggle(),window.digitalData&&(window.digitalData.search||(window.digitalData.search={})),m.elem.on("submit",(function(e){e.preventDefault(),m.onSearchTerm(m.input.val())})),m.input.on("focus",(function(){m.onFocus()})),m.input.on("focusout",(function(){setTimeout((function(){m.suggestionsList.parent().hide()}),200)})),m.input.on("keyup",(function(e){13===e.keyCode?m.onSearchTerm(m.input.val()):"true"===m.autoSuggestions&&(clearTimeout(m.typingTimer),m.input.val()&&(m.typingTimer=setTimeout(m.getSuggestions,b)))}))},onClick:function(e){e.preventDefault(),document.dispatchEvent(s["a"].createCustomEvent(l)),document.dispatchEvent(s["a"].createCustomEvent(u)),m.scrollToInput(!0)},bindMainNavSearchIconClickToSearchBoxInContent:function(){if(!m.isFlyoutSearch){if(!m.mainNavSearchIcon.length||!m.mainNavSearchFlyoutToggle.length)return;m.mainNavSearchFlyoutToggle.addClass("brandhub-main-nav__toggle-flyout--disabled"),m.mainNavSearchFlyoutToggle.on("click",(function(e){m.onClick(e)}))}},bindMobileSearchIconClick:function(){if(m.isFlyoutSearch){if(0===r()(".brandhub-search").not(m.elem).length){if(!m.mainNavSearchFlyoutToggle.length)return;m.mainNavMobileSearchButton.addClass("brandhub-main-nav__mobile-search-button--show"),m.mainNavMobileSearchButton.on("click",(function(e){e.preventDefault(),document.dispatchEvent(s["a"].createCustomEvent("brandhub-main-nav-open-burger-menu")),m.mainNavSearchFlyoutContainer[0].dispatchEvent(s["a"].createCustomEvent("brandhub-menu-flyout-toggle",{bubbles:!0}))}))}}else m.mainNavMobileSearchButton.addClass("brandhub-main-nav__mobile-search-button--show"),m.mainNavMobileSearchButton.on("click",(function(e){m.onClick(e)}))},bindSearchFlyoutToggle:function(){m.mainNavSearchFlyoutContainer.length&&(document.addEventListener("brandhub-menu-flyout-toggle",(function(){setTimeout((function(){m.mainNavSearchFlyoutContainer.hasClass("brandhub-main-nav__flyout-container--active")?m.mainNavMobileSearchButton.addClass(c):m.mainNavMobileSearchButton.removeClass(c)}),0)})),document.addEventListener(u,(function(){m.mainNavMobileSearchButton.removeClass(c)})))},onFocus:function(){m.getSession(),m.suggestionsList.parent().show()},getSession:function(){m.sessionToken||m.getSessionAjax||(m.getSessionAjax=r.a.ajax({type:"POST",url:"".concat(m.apiUrl,"/sessions"),headers:{"Content-Type":d,Accept:d,ApplicationName:i,Market:m.market,Language:m.language},dataType:"json",data:null}).done((function(e){setTimeout((function(){m.getSessionAjax=null,e&&e.token&&(m.sessionToken=e.token)}),h)})))},getSuggestions:function(){r.a.ajax({type:"GET",url:"".concat(m.apiUrl,"/suggestions"),headers:{"Content-Type":d,Accept:d},dataType:"json",data:{searchProfile:m.searchProfileId,query:m.normalizeQuery(m.input.val())}}).done((function(e){m.renderSuggestions(e),m.bindSuggestionsClickListener()})).fail((function(e){0}))},onSuggestionClick:function(e){var n=e.target.innerHTML;m.input.val(n),m.onSearchTerm(n)},bindSuggestionsClickListener:function(){m.suggestionsList.off("click").on("click",(function(e){m.onSuggestionClick(e)}))},renderSuggestions:function(e){m.suggestionsList.empty();for(var n=e.suggests.length>f?f:e.suggests.length,t=new DocumentFragment,a=0;a<n;a+=1){var r=document.createElement("li");r.innerHTML=e.suggests[a],r.classList+="brandhub-search__suggestion",t.appendChild(r)}m.suggestionsList.append(t)},onSearchTerm:function(e){m.suggestionsList.empty();var n=e.trim();n!==m.currentSearchTerm&&(m.currentSearchTerm=n,m.currentOffset=0,e.length<1?m.clearResults():(m.resultsContainer||m.createResultsContainer(),m.isScrolledToInput||m.scrollToInput(!1),window.digitalData&&(m.isFlyoutSearch?window.digitalData.search.searchType="flyout search":window.digitalData.search.searchType="inline search"),m.refreshResults(n)))},clearResults:function(){m.resultsContainer&&(m.resultsContainer.remove(),m.resultsContainer=null,m.resultsList=null,m.clearResultsButton=null,window.digitalData&&(window.digitalData.search.searchType="",window.digitalData.search.searchTerm="",window.digitalData.search.results="",window.digitalData.search.resultPosition="",window.digitalData.search.resultFormat=""))},refreshResults:function(e,n){if(!m.sessionToken)return m.getSession(),void setTimeout((function(){m.refreshResults(e,n)}),h+200);window.digitalData&&(window.digitalData.search.searchterm=e),m.refreshResultsAjax=r.a.ajax({type:"GET",url:"".concat(m.apiUrl,"/results"),headers:{"Content-Type":d,Accept:d,SessionToken:m.sessionToken,ApplicationName:i},dataType:"json",data:{sp:m.searchProfileId,q:m.normalizeQuery(e),limit:o,pageOffset:m.currentOffset}}).done((function(t){m.onRefreshResults(t,e,n)})).fail((function(){m.refreshResultsAjax=null,m.renderResults(e,m.errorText,[],n)}))},onRefreshResults:function(e,n,t){m.refreshResultsAjax=null;var a=[];e.results&&(a=m.processItems(e.results));var r="".concat(m.noResultsText,' "').concat(n,'"');a.length>0&&(r="".concat(m.resultsText,' "').concat(n,'"')),window.digitalData&&(window.digitalData.search.results=a.length),m.renderResults(n,r,a,t)},processItems:function(e){var n=[];return r.a.each(e,(function(e,t){var a={title:t.resource.title,subtitle:t.resource.snippet,url:t.resource.url,display_url:t.resource.displayUrl,image_url:t.resource.thumbnail,is_video:!1,is_external:!1,external_site_name:null,fuel_consumption:t.resource.gsaFuelConsumption||null,fuel_pollution:t.resource.gsaFuelPollution||null,energy_consumption:t.resource.gsaEnergyConsumption||null};if(a.image_url||(a.image_url="/etc/designs/brandhub/frontend/static-assets/search/MB_FB_600x315.jpg"),t.domain&&"amg-f1"!==m.site&&"AMG_F1"===t.domain){a.is_external=!0;var r=a.display_url.indexOf("//");if(-1!==r){r+=2;var s=a.display_url.indexOf("/",r);-1!==s&&(a.external_site_name=a.display_url.substr(r,s-r))}}n.push(a)})),n},loadMoreResults:function(){m.currentSearchTerm&&(m.moreButton.blur().addClass("disabled"),m.currentOffset+=o,m.refreshResults(m.currentSearchTerm,!0))},renderResults:function(e,n,t,a){if(!a){m.resultsList.find(".brandhub-search__results-headline, .brandhub-search__results-item, .spacer").remove();var s=r()('<h2 class="brandhub-search__results-headline"></h2>');s.text(n),s.attr("data-search-term",e),s.appendTo(m.resultsList)}if(r.a.each(t,(function(e,n){m.renderItem(e,n,a)})),m.resultsList.find("img").lazyLoadXT(),!a&&0===t.length){var i=r()('<div class="spacer large">&nbsp;</div>');i.appendTo(m.resultsList)}t.length===o?(m.moreButtonContainer.css({display:"block"}),m.moreButton.removeClass("disabled")):m.moreButtonContainer.css({display:"none"})},renderItem:function(e,n,t){var a=r()('\n        <div class="brandhub-search__results-item">\n          <a href="'.concat(n.url,'">\n            <div class="embed-responsive embed-responsive-16by9">\n              <div class="embed-responsive-item">\n                <img data-src="').concat(n.image_url,'"/>\n              </div>\n            </div>\n            <h4>').concat(n.title||"&nbsp;","</h4>\n            <p>").concat(n.subtitle||"&nbsp;","</p>\n          </a>\n        </div>"));if(n.is_video){var s=r()(' <div class="video-icon"><div class="brandhub-icon brandhub-icon-play"></div></div>');s.insertBefore(a.find("img"))}var o=a.find("a");n.is_external&&(o.attr("target","_blank"),a.find("p").html('<i class="brandhub-icon brandhub-icon-external-link"></i>'.concat(n.external_site_name))),o.append(m.createLabeling(n));var i=e+1;!t&&e<=1?(a.addClass("w-50"),a.attr("data-result-format","prime post"),a.attr("data-result-position","prime_".concat(i))):(a.attr("data-result-format","subprime post"),a.attr("data-result-position","subprime_".concat(i))),o.attr("data-analytics-linkname",n.title.toLowerCase()),o.attr("data-analytics-linkposition","content-search-".concat(i)),o.attr("data-analytics-linkcategory","conversion"),a.appendTo(m.resultsList);var u=window,l=u.digitalData;l&&o.on("click",(function(e){l.search.resultPosition=r()(e).parent().data("result-position"),l.search.resultFormat=r()(e).parent().data("result-format")}))},createLabeling:function(e){if(e.fuel_consumption||e.fuel_pollution||e.energy_consumption){var n=r()('<div class="brandhub-search__labeling"></div>');return e.fuel_consumption&&n.append(r()('\n          <i class="brandhub-icon brandhub-icon-fuel-comp"></i>\n          '.concat(e.fuel_consumption,'\n          <span class="spacer small"></span>\n          <br />\n        '))),e.fuel_pollution&&n.append(r()('\n          <i class="brandhub-icon brandhub-icon-co2"></i>\n          '.concat(e.fuel_pollution,'\n          <span class="spacer small"></span>\n          <br />\n        '))),e.energy_consumption&&n.append(r()('\n          <i class="brandhub-icon brandhub-icon-fuel-e-comp"></i>\n          '.concat(e.energy_consumption,'\n          <span class="spacer small"></span>\n        '))),n}return""},createResultsContainer:function(){m.resultsContainer=r()('\n      <div class="brandhub-search__results">\n        <div class="container">\n          <span class="brandhub-search__clear-results-button brandhub-icon brandhub-icon-close"></span>\n          <div class="brandhub-search__results-list clearfix"></div>\n          <div class="brandhub-search__more-button-container">\n            <button class="brandhub-search__more-button btn btn-dark-2 btn-small">\n              <i class="brandhub-icon brandhub-icon-arrow-down-inline"></i>\n                '.concat(m.moreResultsText,"\n            </button>\n          </div>\n        </div>\n      </div>")),m.resultsContainer.appendTo(m.elem),m.resultsList=m.resultsContainer.find(".brandhub-search__results-list"),m.moreButton=m.resultsContainer.find(".brandhub-search__more-button"),m.moreButtonContainer=m.resultsContainer.find(".brandhub-search__more-button-container"),m.clearResultsButton=m.resultsContainer.find(".brandhub-search__clear-results-button"),m.clearResultsButton.on("click",(function(){m.input.val(""),m.onSearchTerm("")})),m.resultsContainer.css({opacity:0}),m.resultsContainer.animate({opacity:1},1e3),m.moreButtonContainer.css({display:"none"}),m.moreButton.on("click",(function(){m.loadMoreResults()}))},scrollToInput:function(e){var n=r()(".brandhub-custom-menu-bar").height()||20;m.isScrolledToInput=!0,r()(window).unbind("scroll",m.onScroll),r()("html, body").animate({scrollTop:m.input.offset().top-n},800,"swing",(function(){r()(window).bind("scroll",m.onScroll)})),e&&setTimeout((function(){m.input.focus()}),1e3)},onScroll:function(){m.isScrolledToInput=!1,r()(window).unbind("scroll",m.onScroll)},getCurrentContext:function(){return""},normalizeQuery:function(e){var n=e;return n&&(n=n.replace(/'/g," "),n=n.replace(/"/g," ")),n}};r()(document).ready((function(){r()(".brandhub-search").each((function(e,n){var t=r()(n);m.init(t)}))}))}});
//# sourceMappingURL=publish.js.map
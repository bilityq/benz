var brandhub=function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,b=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={"components/newsletter/publish":0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonpbrandhub"]=window["webpackJsonpbrandhub"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;return i.push(["803b","chunk-common"]),n()}({"3c4d":function(e,t,n){"use strict";n("4160"),n("a15b"),n("b64b"),n("ac1f"),n("1276"),n("159b");var a={isIPad:!1,isIPhone:!1,isIPod:!1,isIPhoneOrIPod:!1,isIPhoneOrIPodOrIPad:!1,isAndroid:!1,isIE9:!1,isIE10:!1,isIE11:!1,isIE:!1,isEdge:!1,isEdgeOrIE:!1,isSafari:!1,isTouch:!1};function r(){var e=" -webkit- -moz- -o- -ms- ".split(" "),t=function(e){return window.matchMedia(e).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)return!0;var n=["(",e.join("touch-enabled),("),"heartz",")"].join("");return t(n)}/iPad/i.test(navigator.userAgent)&&(a.isIPad=!0),/iPhone/i.test(navigator.userAgent)&&(a.isIPhone=!0),/iPod/i.test(navigator.userAgent)&&(a.isIPod=!0),(a.isIPhone||a.isIPod)&&(a.isIPhoneOrIPod=!0),(a.isIPhone||a.isIPod||a.isIPad)&&(a.isIPhoneOrIPodOrIPad=!0),/Android/i.test(navigator.userAgent)&&(a.isAndroid=!0),/MSIE 9/i.test(navigator.userAgent)&&(a.isIE9=!0),/MSIE 10/i.test(navigator.userAgent)&&(a.isIE10=!0),/rv:11.0/i.test(navigator.userAgent)&&(a.isIE11=!0),(a.isIE9||a.isIE10||a.isIE11)&&(a.isIE=!0),/Edge\/\d./i.test(navigator.userAgent)&&(a.isEdge=!0),/^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase())&&(a.isSafari=!0),/^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase())&&(a.isSafari=!0),(a.isEdge||a.isIE)&&(a.isEdgeOrIE=!0),r()&&(a.isTouch=!0),a.addGlobalClasses=function(){Object.keys(a).forEach((function(e){!0===a[e]&&document.documentElement.classList.add(e)}))},t["a"]=a},"803b":function(e,t,n){"use strict";n.r(t);n("99af"),n("4160"),n("a630"),n("3ca3"),n("159b"),n("e623"),n("e379"),n("5dc8"),n("37e1"),n("b64b"),n("d3b7"),n("10d1"),n("ddb0");var a=n("276c"),r=n("e954"),i=n("90c9"),o=n("9643"),s=n("8ba4"),c="brandhub-newsletter",u="brandhub-footer-newsletter",l=function(){function e(t,n){Object(a["a"])(this,e),d.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),Object(o["a"])(this,d,n),Object(o["a"])(this,b,t),Object(o["a"])(this,f,t.querySelector(".".concat(Object(i["a"])(this,d),"__form"))),Object(o["a"])(this,v,t.querySelector(".".concat(Object(i["a"])(this,d),"__success-message"))),Object(o["a"])(this,h,Object(i["a"])(this,f).getAttribute("data-api-url")),Object(o["a"])(this,p,Object(i["a"])(this,f).querySelector(".".concat(Object(i["a"])(this,d),"__privacy-link")))}return Object(r["a"])(e,[{key:"init",value:function(){this.bindClickListener(Object(i["a"])(this,p)),Object(i["a"])(this,h)&&this.bindOnSubmitListener(Object(i["a"])(this,f))}},{key:"bindClickListener",value:function(e){e.addEventListener("click",(function(e){var t=document.querySelector(".brandhub-legal-navigation");t&&(t.dispatchEvent(s["a"].createCustomEvent("brandhub-policy-layer")),e.preventDefault())}))}},{key:"createErrorElem",value:function(e){var t=document.createElement("div");return t.innerText=e,t.setAttribute("role","alert"),t.setAttribute("id","alert"),t.setAttribute("tabindex","-1"),t}},{key:"handleRequestResponse",value:function(e,t,n){var a=this;switch(e){case 200:var r=["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"];r.forEach((function(e){t.addEventListener(e,(function(){Object(i["a"])(a,v).classList.add("".concat(Object(i["a"])(a,d),"__success-message--show")),Object(i["a"])(a,v).querySelector(".".concat(Object(i["a"])(a,d),"__success-message-content")).setAttribute("aria-live","alert"),setTimeout((function(){t.style.visibility="hidden"}),400)}))})),t.classList.add("".concat(Object(i["a"])(this,d),"__form--hidden"));break;case 400:Object.keys(n.errors).forEach((function(e){var n=t.querySelector('input[name="'.concat(e,'"]'));if(n.setAttribute("aria-describedby","error-".concat(e)),n&&(n.previousElementSibling.setAttribute("aria-live","alert"),n.previousElementSibling.setAttribute("role","alert"),n.previousElementSibling.style.display="inline",n.setAttribute("aria-invalid","true")),"privacy_policy_accepted"===e){var r=t.querySelector(".".concat(Object(i["a"])(a,d),"__privacy-label"),":before");r.classList.add("".concat(Object(i["a"])(a,d),"__privacy-label--invalid"))}})),t.querySelector(".".concat(Object(i["a"])(this,d),"__error-message")).parentElement.querySelector("input").focus();break;case 500:var o="Unknown error";n.message&&(o="Unexpected error: ".concat(n.message));var s=this.createErrorElem(o);t.prepend(s);break}}},{key:"bindOnSubmitListener",value:function(e){var t=this;e.addEventListener("submit",(function(n){n.preventDefault();var a=e.getAttribute("data-language"),r=e.getAttribute("data-config-name"),o=e.elements["first-name"]?e.elements["first-name"].value:"",s=e.elements["last-name"]?e.elements["last-name"].value:"",c=e.elements.email.value,u=null!=e.querySelector('input[name="privacy_policy_accepted"]:checked'),l=Object(i["a"])(t,b).querySelectorAll(".".concat(Object(i["a"])(t,d),"__error-message"));l.forEach((function(e){e.style.display="none"}));var f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){var n=JSON.parse(f.responseText);t.handleRequestResponse(f.status,e,n)}},f.open("POST",Object(i["a"])(t,h),!0),f.send(JSON.stringify({fname:o,lname:s,email:c,language:a,config_name:r,campaign:"",privacy_policy_accepted:u}))}))}}]),e}(),d=new WeakMap,b=new WeakMap,f=new WeakMap,v=new WeakMap,h=new WeakMap,p=new WeakMap;n("84d8"),n("f302");Array.from(document.querySelectorAll(".".concat(c,":not(.").concat(c,"--author-mode)"))).forEach((function(e){var t=new l(e,c);t.init()})),Array.from(document.querySelectorAll(".".concat(u,":not(.").concat(u,"--author-mode)"))).forEach((function(e){var t=new l(e,u);t.init()}))},"84d8":function(e,t,n){},"8ba4":function(e,t,n){"use strict";var a=n("3c4d"),r={createCustomEvent:function(e,t){if(a["a"].isIE){var n=document.createEvent("CustomEvent"),r=!1;return t&&(r=t.bubbles||!1),n.initEvent(e,r,!0),n}return new CustomEvent(e,t||{})}};t["a"]=r},f302:function(e,t,n){}});
//# sourceMappingURL=publish.js.map